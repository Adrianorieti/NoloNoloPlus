{"version":3,"sources":["webpack:///./src/views/ProductCharts.vue?9fe3","webpack:///./src/views/ProductCharts.vue?ed35","webpack:///src/views/ProductCharts.vue","webpack:///./src/views/ProductCharts.vue?a08c","webpack:///./src/views/ProductCharts.vue?aaf7","webpack:///./node_modules/core-js/modules/es.array.map.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","key","attrs","type","data","staticRenderFns","name","products","props","watch","chartView","changeChart","components","chart","mounted","method","headers","Headers","fetch","url","fetch_options","methods","attribute","labels","datasets","changeType","chartype","getRandomColor","Math","random","toString","slice","component","$","$map","map","arrayMethodHasSpeciesSupport","HAS_SPECIES_SUPPORT","target","proto","forced","callbackfn","arguments","length","undefined"],"mappings":"wIAAA,W,yCCAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,MAAM,CAACE,YAAY,iBAAiB,CAACF,EAAG,QAAQ,CAACG,IAAIP,EAAIO,IAAIC,MAAM,CAAC,KAAOR,EAAIS,KAAK,UAAYT,EAAIU,KAAK,GAAK,qBAAqB,MAC5OC,EAAkB,G,4ECUtB,GACEC,KAAM,gBACNF,KAFF,WAGI,MAAO,CACLH,IAAK,EACLM,SAAU,GACVH,KAAM,GACND,KAAM,QAGVK,MAAO,CAAC,aACRC,MAAO,CACLC,UADJ,WAEMf,KAAKgB,gBAGTC,WAAY,CACVC,MAAJ,QAEEC,QAnBF,WAmBA,WACA,GACMC,OAAQ,MACRC,QAAS,IAAIC,QAAQ,CAA3B,qCAEA,+CACIC,MAAMC,EAAKC,GACf,kBACM,GAAN,eACQ,OAAR,YAGA,kBACM,EAAN,oBACM,EAAN,iBAEA,mBACM,QAAN,WAGEC,QAAS,CACPV,YADJ,WAEM,IAAN,EAEQW,EADqB,WAAnB3B,KAAKe,UACK,gBACpB,+BACoB,SAEA,aAEd,IATN,EASA,wCACA,YACA,mBAEA,KACA,KACA,KAfA,iBAgBA,GAhBA,IAgBA,0CACA,eACA,oBACA,+BAnBA,8BAqBMf,KAAKS,KAAO,CACVmB,OAAQA,EACRC,SAAU,CAClB,CACU,MAAV,cACU,gBAAV,EACU,YAAV,EACU,KAAV,KAIM7B,KAAKM,KAAO,GAEdwB,WAnCJ,SAmCA,GACM9B,KAAKQ,KAAOuB,EACZ/B,KAAKM,KAAO,GAEd0B,eAvCJ,WAwCM,MAAO,KAAOC,KAAKC,SAASC,SAAS,IAAM,WAAWC,MAAM,EAAG,MC1FkR,I,wBCQnVC,EAAY,eACd,EACAvC,EACAY,GACA,EACA,KACA,WACA,MAIa,aAAA2B,E,2CClBf,IAAIC,EAAI,EAAQ,QACZC,EAAO,EAAQ,QAAgCC,IAC/CC,EAA+B,EAAQ,QAEvCC,EAAsBD,EAA6B,OAKvDH,EAAE,CAAEK,OAAQ,QAASC,OAAO,EAAMC,QAASH,GAAuB,CAChEF,IAAK,SAAaM,GAChB,OAAOP,EAAKvC,KAAM8C,EAAYC,UAAUC,OAAS,EAAID,UAAU,QAAKE","file":"js/productCharts.e3c9c4c8.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProductCharts.vue?vue&type=style&index=0&id=0d79a4e6&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"chart-wrapper\"},[_c('chart',{key:_vm.key,attrs:{\"type\":_vm.type,\"chartdata\":_vm.data,\"id\":'ProductsCharts'}})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <div class=\"chart-wrapper\">\n      <chart :type=\"type\" :chartdata=\"data\" :id=\"'ProductsCharts'\" :key=\"key\" />\n    </div>\n  </div>\n</template>\n\n<script>\nimport chart from \"../components/chart\";\n\nexport default {\n  name: \"ProductCharts\",\n  data() {\n    return {\n      key: 0,\n      products: [],\n      data: {},\n      type: \"bar\",\n    };\n  },\n  props: [\"chartView\"],\n  watch: {\n    chartView() {\n      this.changeChart();\n    },\n  },\n  components: {\n    chart,\n  },\n  mounted() {\n    let fetch_options = {\n      method: \"GET\",\n      headers: new Headers({ \"Content-type\": \"application/json\" }),\n    };\n    let url = \"http://localhost:8001/api/customer/product\";\n    fetch(url, fetch_options)\n      .then((response) => {\n        if (response.status === 200) {\n          return response.json();\n        }\n      })\n      .then((data) => {\n        this.products = data.products;\n        this.changeChart();\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  },\n  methods: {\n    changeChart() {\n      let attribute;\n      if (this.chartView === \"rental\") {\n        attribute = \"numberOfRents\";\n      } else if (this.chartiView === \"conditions\") {\n        attribute = \"status\"; //serve trovare un altro modo per stampare lo status\n      } else {\n        attribute = \"totalSales\";\n      }\n      let mappedProducts = this.products.map((prod) => ({\n        name: prod.name,\n        attribute: prod[attribute],\n      }));\n      let labels = [];\n      let chartData = [];\n      let colors = [];\n      for (let prod of mappedProducts) {\n        labels.push(prod.name);\n        chartData.push(prod.attribute);\n        colors.push(this.getRandomColor());\n      }\n      this.data = {\n        labels: labels,\n        datasets: [\n          {\n            label: \"roba a casa\",\n            backgroundColor: colors,\n            borderColor: colors,\n            data: chartData,\n          },\n        ],\n      };\n      this.key += 1;\n    },\n    changeType(chartype) {\n      this.type = chartype;\n      this.key += 1;\n    },\n    getRandomColor() {\n      return \"#\" + (Math.random().toString(16) + \"0000000\").slice(2, 8);\n    },\n  },\n};\n</script>\n\n<style scoped>\n.button-wrapper {\n  display: flex;\n  justify-content: center;\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProductCharts.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProductCharts.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ProductCharts.vue?vue&type=template&id=0d79a4e6&scoped=true&\"\nimport script from \"./ProductCharts.vue?vue&type=script&lang=js&\"\nexport * from \"./ProductCharts.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ProductCharts.vue?vue&type=style&index=0&id=0d79a4e6&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0d79a4e6\",\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar $ = require('../internals/export');\nvar $map = require('../internals/array-iteration').map;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('map');\n\n// `Array.prototype.map` method\n// https://tc39.es/ecma262/#sec-array.prototype.map\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {\n  map: function map(callbackfn /* , thisArg */) {\n    return $map(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n"],"sourceRoot":""}